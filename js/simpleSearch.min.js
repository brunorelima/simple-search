/*!
 * Versão 1.0a
 * Última alteração: 14/07/2017 
 * https://brunorelima.github.io/simple-search/
 */
"use strict";var SimpleSearch=class SimpleSearch{static _getIdentificador(){return null==this.identificador?this.identificador=1:this.identificador++,this.identificador}constructor(a){a.debug&&console.log("SimpleSearch START ",a),a.query&&$(a.query).parent().parent().hasClass("simple-search")&&(console.warn("Aten\xE7\xE3o: Foi recriado um componente SimpleSearch utilizando a mesma query '"+a.query+"' que foi utilizada anteriormente. "),this.query=a.query,this.destroy());var c=$.extend({},{method:"GET",fieldId:"id",fieldRecords:"obj.registros",fieldSizePages:"obj.propriedades.qtdPaginasTotal",delaySearch:200,whenBlurClear:!0,onsuccess:function(e){return e&&e.status&&"erro"==e.status?(this.debug&&console.error("Deu erro na resposta do servidor."),this.debug&&console.log(e),alert(e.msg),!1):!0}},a);this.paginaAtual=0,this.indexAtual=-1,this.arrayRegistros=[],this.logNomeClasse="[SimpleSearch]",this.ultimoParametroPesquisado="",this.ultimaPalavraPesquisada="-1",this.isDesbloqueado=!0,this.isBlocked=!1;var d="N\xE3o foi poss\xEDvel inicializar o SimpleSearch. ";if(null==c.query&&null==c.queryButton)throw console.trace(),Error("Informe o nome do 'query' ou do 'queryButton'. "+this.logNomeClasse);if(void 0==c.field&&void 0==c.tableFields&&void 0==c.templateField)throw console.trace(),Error(d+"Informe o nome da 'field'. ");if(void 0==c.fieldRecords)throw console.trace(),Error(d+"Informe o 'fieldRecords'. ");if(void 0==c.url&&void 0==c.response)throw console.trace(),Error(d+"Informe a 'url' ou 'response'. ");return c.queryId&&0!=$(c.queryId).length||c.inputNames||void 0!=c.onselect?void(this.query=c.query,this.url=c.url,this.method=c.method||method,this.fieldSizePages=c.fieldSizePages||fieldSizePages,this.field=c.field,this.fieldId=c.fieldId||fieldId,this.queryId=c.queryId||null,this.templateField=c.templateField,this.fieldRecords=c.fieldRecords,this.inputNames=c.inputNames,this.minLength=c.minLength||0,this.defaultValue=c.defaultValue,this.tableTitles=c.tableTitles,this.tableFields=c.tableFields,this.queryContent=c.queryContent,this.queryContentExterno=!!c.queryContent,this.queryButton=c.queryButton,this.queryForm=c.queryForm,this.fieldPages=c.fieldPages,this.paramSearch=c.paramSearch||$(this.query).attr("name")||"busca",this.delayAutoSearch=c.delayAutoSearch||-1,this.delaySearch=c.delaySearch,this.autoIniciarStarted=!1,this.templateComplement=c.templateComplement,this.tableShowSelect=c.tableShowSelect,this.tableKeepOpen=!0==c.tableKeepOpen,this.debug=!0==c.debug,this.whenBlurClear=!0==c.whenBlurClear,this.response=c.response,this.tableLastColumn=c.tableLastColumn,this.tableShowClose=c.tableShowClose,this.whenSelectKeepOpen=c.whenSelectKeepOpen,this.whenEnableReset=c.whenEnableReset||!0,this.whenNullSetEmpty=c.whenNullSetEmpty||!1,this.disableSelectRow=c.disableSelectRow||!1,this.data=c.data||function(){return""},this.onselect=c.onselect||function(){},this.onreset=c.onreset||function(){},this.onsuccess=c.onsuccess||function(){return!0},this.containerAutoComplete="#containerPesquisa"+SimpleSearch._getIdentificador(),this.classResultadoPesquisa="simpleSearchResult",this.classDestinoConteudo="containerResult",this.classItensSelecionados="containerItensSelecionados",this.classComplemento="complemento",this.classLinhaSelecionada="simpleSearchLinhaSelecionada",this._logDebug("container "+this.containerAutoComplete),!0!=this.disableSelectRow&&(this.classLinhaSelecionada=c.tableFields?"info":"active"),this.query?($(this.query).addClass("form-control"),$(this.query).width(""),$(this.query).wrap("<div id='"+this.containerAutoComplete.substring(1)+"' class='simple-search'></div>"),$(this.query).wrap("<div class='input-group'></div>"),$(this.query).after("<span class='input-group-addon btn '>  <span class='glyphicon glyphicon-search text-primary'></span> </span> "),this.templateComplement&&$(this.query).after("<div class='"+this.classComplemento+" form-control' style='display: none; height: auto; resize: none;' readonly ></div>"),$(this.containerAutoComplete).append("<div class='"+this.classDestinoConteudo+"'></div>"),this.inputNames&&$(this.containerAutoComplete).append("<div class='"+this.classItensSelecionados+"'></div>"),$(this.query).attr("autocomplete","off"),$(this.query).keydown(this._acaoPressKey.bind(this)),$(this.query).click($.proxy(function(){$(this.resultadoPesquisa+" ."+this.classLinhaSelecionada).removeClass(this.classLinhaSelecionada)},this))):this.queryButton&&!this.queryContent&&($(this.queryButton).keydown(this._acaoPressKey.bind(this)),$(this.queryButton).parent().parent().wrap("<div id='"+this.containerAutoComplete.substring(1)+"'></div>"),$(this.queryButton).parent().parent().after("<div class='"+this.classDestinoConteudo+"'></div>")),this.resultadoPesquisa=this.queryContent?this.queryContent:this.containerAutoComplete+" ."+this.classResultadoPesquisa,this.queryContent=this.queryContent?this.queryContent:this.containerAutoComplete+" ."+this.classDestinoConteudo,this.destinoItensSelecionados=this.containerAutoComplete+" ."+this.classItensSelecionados,this.inputNames&&-1==this.inputNames.indexOf("[]")&&(this.debug&&console.log("O param\xEAtro 'inputNames' n\xE3o estava no formato de vetor, foi adicionado '[]' no final do nome para fazer a convers\xE3o."),this.inputNames+="[]"),this._adicionaEventos(),this._adicionaValorPadrao(),this._logDebug("function constructor() - END")):(console.trace(),void console.error("Propriedade 'queryId' n\xE3o encontrada. Confira a passagem deste parametro. "+this.logNomeClasse))}_logDebug(a){this.debug&&(!this._prefixoDebug&&(this._prefixoDebug="SimpleSearch:"+(this.query||this.queryButton||"???")+" | "),console.log(this._prefixoDebug+a))}_adicionaValorPadrao(){if(this.defaultValue)if(this.defaultValue[0]&&!Array.isArray(this.defaultValue[0])&&this.defaultValue[1]&&!Array.isArray(this.defaultValue[1])){var a=this.defaultValue[2]?this.defaultValue[2]:"";this.select(this.defaultValue[0],this.defaultValue[1],a)}else Array.isArray(this.defaultValue)&&this.defaultValue.forEach(function(b){if(b[0]&&b[1]){var c=b[2]?b[2]:"";this.select(b[0],b[1],c)}},this)}_adicionaEventos(){if(this._logDebug("function _adicionaEventos()"),this.query){$(document).click($.proxy(function(b){""==$(this.queryContent).html()?this.isDesbloqueado&&this.whenBlurClear&&$(this.query).val()&&!$(this.resultadoPesquisa).html()&&this._limparConteudo():!$(b.target).hasClass("clk-btn-next")&&!$(b.target).hasClass("clk-btn-prev")&&!$(b.target).attr("data-pagina")&&0==$(b.target).closest(this.containerAutoComplete).length&&!0!=this.tableKeepOpen&&this._limparConteudo()},this)),$(this.query).parent().find(".input-group-addon").click($.proxy(function(){this._acaoBotaoPesquisarOuDesbloquear()},this));var a=this.templateComplement?this.containerAutoComplete+" ."+this.classComplemento:this.query;$(a).dblclick($.proxy(function(){this._desbloquear(!0),this._setComplemento(""),$(this.query).show(),$(this.containerAutoComplete+" ."+this.classComplemento).hide(),$(this.query).focus()},this)),$(this.query).parent().find(".glyphicon").parent().addClass("btn")}else this.queryButton&&$(this.queryButton).click($.proxy(function(){this.isDesbloqueado&&this._pesquisar(1)},this));this.queryForm&&null!=$(this.queryForm).find(".search-on-enter")&&($(this.queryForm).find(".search-on-enter").attr("autocomplete","off"),$(this.queryForm).find(".search-on-enter").keydown(this._acaoPressKey.bind(this)))}_removeEventos(){this._logDebug("function _removeEventos()"),this.query?($(this.query).unbind("dblclick"),$(this.query).parent().find(".input-group-addon").unbind("click"),$(this.query).parent().find(".glyphicon").unbind("click"),$(this.query).parent().find(".glyphicon").parent().removeClass("btn")):this.queryButton&&$(this.queryButton).unbind("click")}_desbloquear(a){this.isDesbloqueado=!0,$(this.query).removeAttr("readonly"),$(this.query).parent().find(".glyphicon").removeClass("glyphicon-remove").addClass("glyphicon-search"),!0==a&&$(this.query).select(),this.queryId&&$(this.queryId).val("")}_acaoBotaoPesquisarOuDesbloquear(){this.isDesbloqueado?this._pesquisar(1):(this._desbloquear(!0),this._setComplemento(""),$(this.query).show(),$(this.containerAutoComplete+" ."+this.classComplemento).hide(),!0==this.whenEnableReset&&this.reset())}_pesquisar(a){if(this._logDebug("function _pesquisar("+a+") - START"),this.idTimeoutAutoSearch&&(clearTimeout(this.idTimeoutAutoSearch),this.autoIniciarStarted=!1),!this.idTimeoutSearch)this.idTimeoutSearch=window.setTimeout($.proxy(function(){clearTimeout(this.idTimeoutSearch),this.idTimeoutSearch=null},this),this.delaySearch);else return void(this.debug&&console.log("Pesquisa cancelada. O intervalo da \xFAltima pesquisa foi muito pequeno."));if(this.query&&"readonly"==$(this.query).attr("readonly")||!1==this.isDesbloqueado)return void(this.autoIniciarStarted=!1);if(this.query&&$(this.query).val().length<this.minLength){this.debug&&console.log("Para pesquisar precisa digitar pelo menos "+this.minLength+" caracteres.");var b="<p> <small> <span class='glyphicon glyphicon-alert text-warning'></span> ";return b+="<strong> Para pesquisar precisa digitar pelo menos "+this.minLength+" caracteres. </strong> </small> </p>",$(this.queryContent).html(b),void(this.autoIniciarStarted=!1)}a=a||1;var c="pagina="+a;c+=this.query?"&"+this.paramSearch+"="+$(this.query).val():"",c+=this.queryForm?"&"+$(this.queryForm).serialize():"";var d=this.data&&"function"==typeof this.data?this.data():this.data;c+=d&&""!=d?"&"+jQuery.param(d):"",this.ultimaPalavraPesquisada=$(this.query).val(),this.ultimoParametroPesquisado=c,this.paginaAtual=void 0==a?this.paginaAtual:a,this.response?this._trataRepostaServidor(this.response(a,$(this.query).val())):(this.ajax&&this.ajax.abort(),this.ajax=$.ajax({url:this.url,data:c,dataType:"json",method:this.method,context:this,success:function(e){this._trataRepostaServidor(e)},error:function(e){0!=e.readyState&&console.error(e);var f="<p> <small> <span class='glyphicon glyphicon-exclamation-sign text-danger'></span> ";f+="<strong>Erro na consulta do simpleSearch </strong> </small> </p>",$(this.queryContent).html(f)},beforeSend:function(){var e=" <div class='progress' role='progressbar' style='height: 10px;'> <div class='progress-bar progress-bar-striped active' role='progressbar' aria-valuenow='100' aria-valuemin='0' aria-valuemax='100' style='width: 100%' >";e+="<span class='sr-only glyphicon glyphicon-hourglass text-primary'><small><strong>Carregando... </strong></small></span>  </div> </div>",$(this.queryContent).html(e)},complete:function(){this.autoIniciarStarted=!1;var e=$(this.queryContent).html();e&&0<e.indexOf("progressbar")&&$(this.queryContent).html("")}})),this._logDebug("function _pesquisar("+a+") - END")}_trataRepostaServidor(response){var continuarExecutando=this.onsuccess(response);if(continuarExecutando){try{var obj=""==this.fieldRecords?response:eval("response."+this.fieldRecords)}catch(a){throw this.debug&&console.log(a),this.debug&&console.log(response),Error("Par\xE2metro configurado para 'fieldRecords' incorreto. Confira a resposta do servidor.")}if(void 0==obj)return void console.error("Objeto de registros indefinido. Confira se o argumento de 'fieldRecords' est\xE1 correto. "+this.logNomeClasse);if(this.arrayRegistros=this.fieldRecords&&obj?obj:response.obj,(this.field||this.tableFields||this.templateField)&&(this.templateField||this.tableFields||!this.arrayRegistros[0]||void 0!=this.arrayRegistros[0][this.field])||console.error("Valor da 'field' do item est\xE1 indefinido, confira se o parametro passado est\xE1 correto. "+this.logNomeClasse),this.fieldId&&this.arrayRegistros[0]&&void 0==this.arrayRegistros[0][this.fieldId]&&console.error("Valor da 'fieldId' do item est\xE1 indefinido, confira se o parametro passado est\xE1 correto. "+this.logNomeClasse),null!=this.arrayRegistros&&0<this.arrayRegistros.length){var htmlSaida="";if(!0==this.tableKeepOpen&&(htmlSaida+="<div> ",this.tableShowClose&&(htmlSaida+="  <div class='text-danger pull-right acao-fechar' aria-hidden='true' title='Fechar tabela' style='cursor: pointer;'> <h6> <span class='glyphicon glyphicon-remove text-danger'></span> Fechar </h6> </div> ")),!this.tableFields){htmlSaida+="<ul class='list-group "+this.classResultadoPesquisa+"' style='margin-bottom: 0;'>";var valor="";this.arrayRegistros.forEach(function(a){var c=this.inputNames&&0!=$(this.destinoItensSelecionados+" input[value='"+a[this.fieldId]+"']").length?"disabled":"";valor=this.templateField?this._atualizaValoresTemplate(a,this.templateField):a[this.field],valor=!valor&&this.whenNullSetEmpty?"":valor,htmlSaida+="<li class='list-group-item linhaSs "+c+"' style='cursor: pointer;'>"+valor+" </li>"},this),htmlSaida+="</ul>"}else{htmlSaida+="<div class='table-responsive simple-search'>",htmlSaida+="<table class='table table-bordered table-striped table-hover "+this.classResultadoPesquisa+"' style='margin-bottom: 0;'>",this.tableTitles&&(htmlSaida+="<tr>",this.tableShowSelect&&(htmlSaida+="<td width='42px'> </td>"),this.tableTitles.forEach(function(a){htmlSaida+="<th> "+a+" </th>"}),this.tableLastColumn&&(htmlSaida+="<th></th>"),htmlSaida+="</tr>");var complementoCss=!0==this.disableSelectRow?"":"style='cursor:pointer'";this.arrayRegistros.forEach(function(a){htmlSaida+="<tr class='linhaSs' "+complementoCss+">",this.tableShowSelect&&(htmlSaida+="<td class='text-center'> <span class='glyphicon glyphicon-ok'></span>  </td>");var c="";this.tableFields.forEach(function(d){c=0<=d.indexOf(" ")?this._atualizaValoresTemplate(a,d):a[d],c=!c&&this.whenNullSetEmpty?"":c,htmlSaida+="<td>"+c+"</td>"},this),this.tableLastColumn&&("function"===this.tableLastColumn||this.tableLastColumn instanceof Function?htmlSaida+="<td> "+this._atualizaValoresTemplate(a,this.tableLastColumn())+" </td>":htmlSaida+="<td> "+this._atualizaValoresTemplate(a,this.tableLastColumn)+" </td>"),htmlSaida+="</tr>"},this),htmlSaida+="</table>",htmlSaida+="</div>"}var qtdPaginasTotal=-1;if(!isNaN(this.fieldSizePages))qtdPaginasTotal=this.fieldSizePages;else try{var aux=eval("response."+this.fieldSizePages)||-1;qtdPaginasTotal=aux}catch(a){console.warn("Erro ao tentar pegar o valor de fieldSizePages. ",a)}var complementoBotaoAnterior=1==this.paginaAtual?"disabled":"",complementoBotaoProximo=this.paginaAtual==qtdPaginasTotal?"disabled":"";if(qtdPaginasTotal&&1<qtdPaginasTotal){this.paginaAtual=this.paginaAtual>qtdPaginasTotal+1?qtdPaginasTotal+1:this.paginaAtual;var dadosPaginacao=null;try{dadosPaginacao=this.fieldPages?eval("response."+this.fieldPages):null}catch(a){console.warn("Erro ao usar o par\xE2metro 'fieldPages': "+this.fieldPages)}dadosPaginacao?(htmlSaida+="<div class='btn-group' role='group'> <div class='text-center'> ",htmlSaida+=" <ul class='pagination'> ",dadosPaginacao&&dadosPaginacao.forEach(function(a){htmlSaida+=this._atualizaValoresTemplate(a,"  <li class='#active#' data-pagina='#pagina#' ><a href='javascript:void(0)' data-pagina='#pagina#'>#legenda#</a></li> ")},this),htmlSaida+=" </ul>  ",htmlSaida+="</div></div>"):(htmlSaida+="<div class='btn-group btn-group-justified' role='group'>",htmlSaida+="<div class='btn-group' role='group'> <button type='button' class='btn btn-primary clk-btn-prev' "+complementoBotaoAnterior+"> Anterior </button>  </div>",htmlSaida+="<div class='btn-group' role='group'> <button type='button' class='btn btn-primary clk-btn-next' "+complementoBotaoProximo+"> Pr\xF3xima </button>  </div>",htmlSaida+="</div>")}this.queryContentExterno&&(htmlSaida+="</div> "),$(this.queryContent).html(htmlSaida),!0==this.tableKeepOpen&&($(this.queryContent).undelegate(".acao-fechar","click"),$(this.queryContent).delegate(".acao-fechar","click",this._limparConteudo.bind(this))),!0!=this.disableSelectRow&&($(this.queryContent).undelegate(".linhaSs","click"),$(this.queryContent).delegate(".linhaSs","click",this._acaoClickMouse.bind(this))),$(this.resultadoPesquisa).undelegate(".linhaSs","mouseover"),$(this.resultadoPesquisa).delegate(".linhaSs","mouseover",this._acaoMouseOver.bind(this)),$(this.queryContent).undelegate(".clk-btn-prev","click"),$(this.queryContent).delegate(".clk-btn-prev","click",this._voltaPagina.bind(this)),$(this.queryContent).undelegate(".clk-btn-next","click"),$(this.queryContent).delegate(".clk-btn-next","click",this._proximaPagina.bind(this)),$(this.queryContent).undelegate(".pagination li","click"),$(this.queryContent).delegate(".pagination li","click",$.proxy(function(a){var b=$(this.queryContent+" .pagination li").index($(a.currentTarget));if(0<=b){var c=$(this.queryContent+" .pagination li")[b],d=$(c).data("pagina");this._pesquisar(d)}},this))}else{var msg="<small><p style='margin-top: 2px;'> <span class='glyphicon glyphicon-info-sign text-primary'></span> ";msg+="<strong>Nenhum resultado encontrado para o termo informado. </strong></p></small>",$(this.queryContent).html(msg),--this.paginaAtual}$(this.query).focus()}else this.debug&&console.log("continuarExecutando = false")}_atualizaValoresTemplate(a,b){$.each(a,function(f,g){var i=new RegExp("#"+f+"#","ig");b=b.replace(i,null==g?"":g)});for(var c="",d=b.indexOf("#"),e=(b.match(/#/g)||[]).length;0<=d&&2<=e;)c=b.indexOf("#",d+1),0<c&&(b=b.substring(0,d)+b.substring(c+1)),d=b.indexOf("#"),e=(b.match(/#/g)||[]).length;return b}_selecionaLinha(a){if(a){this.whenSelectKeepOpen||this._limparConteudo();var b=this.templateComplement?this._atualizaValoresTemplate(a,this.templateComplement):"";this.select(a[this.fieldId],a[this.field],b,!0,a),this.onselect(a)}}_setComplemento(a){this.templateComplement&&($(this.containerAutoComplete+" ."+this.classComplemento).html(a),$(this.query).hide(),$(this.containerAutoComplete+" ."+this.classComplemento).show())}_geraComplementoElemento(a){return this.inputNames&&a?"<div class='form-control' readonly style='height: auto; font-size: 0.85em;'> "+a+" </div>":""}_acaoClickMouse(a){this.indexAtual=$(this.resultadoPesquisa+" .linhaSs").index($(a.currentTarget)),$(this.resultadoPesquisa+" .linhaSs").eq(this.indexAtual).hasClass("disabled")?this.focus():($(this.resultadoPesquisa+" .linhaSs").eq(this.indexAtual).addClass("disabled"),this._selecionaLinha(this.arrayRegistros[this.indexAtual]))}_acaoClickMouseRemoverItem(a){$(a.currentTarget).parent().parent().remove()}_acaoMouseOver(a){$(this.resultadoPesquisa+" ."+this.classLinhaSelecionada).removeClass(this.classLinhaSelecionada),$(a.currentTarget).addClass(this.classLinhaSelecionada)}_acaoPressKey(a){if(!$(this.query).attr("readonly"))switch(a.keyCode){case 13:this.indexAtual=$(this.resultadoPesquisa+" .linhaSs").index($(this.resultadoPesquisa+" ."+this.classLinhaSelecionada)),0<=this.indexAtual?(this._selecionaLinha(this.arrayRegistros[this.indexAtual]),a.preventDefault()):(this._pesquisar(1),a.preventDefault());break;case 27:this._limparConteudo();break;case 9:!0!=this.tableKeepOpen&&this.isDesbloqueado&&this.whenBlurClear&&$(this.query).val()&&this._limparConteudo();break;case 37:this._voltaPagina();break;case 39:this._proximaPagina();break;case 40:this.indexAtual=$(this.resultadoPesquisa+" .linhaSs").index($(this.resultadoPesquisa+" ."+this.classLinhaSelecionada)),this.indexAtual++,$(this.resultadoPesquisa+" ."+this.classLinhaSelecionada).removeClass(this.classLinhaSelecionada),$(this.resultadoPesquisa+" .linhaSs:eq("+this.indexAtual+")").addClass(this.classLinhaSelecionada),a.preventDefault();break;case 38:this.indexAtual=$(this.resultadoPesquisa+" .linhaSs").index($(this.resultadoPesquisa+" ."+this.classLinhaSelecionada)),this.indexAtual--,$(this.resultadoPesquisa+" ."+this.classLinhaSelecionada).removeClass(this.classLinhaSelecionada),$(this.resultadoPesquisa+" .linhaSs:eq("+this.indexAtual+")").addClass(this.classLinhaSelecionada),a.preventDefault();break;case 33:this._voltaPagina(),a.preventDefault();break;case 34:this._proximaPagina(),a.preventDefault();break;case 16:break;case 17:break;case 18:break;case 20:break;case 32:break;case 36:break;case 35:break;case 144:break;default:$(this.resultadoPesquisa+" ."+this.classLinhaSelecionada).removeClass(this.classLinhaSelecionada),-1!=this.delayAutoSearch&&(this.idTimeoutAutoSearch&&(clearTimeout(this.idTimeoutAutoSearch),this.autoIniciarStarted=!1),!1==this.autoIniciarStarted&&(this.autoIniciarStarted=!0,this.idTimeoutAutoSearch=window.setTimeout($.proxy(function(){this._pesquisar(1)},this),this.delayAutoSearch)));}}_proximaPagina(){return("-1"!=this.ultimaPalavraPesquisada&&this.ultimaPalavraPesquisada!=$(this.query).val()||""==this.ultimaPalavraPesquisada&&""==$(this.query).val()&&""==$(this.queryContent).html())&&(this.paginaAtual=0),this.ultimaPalavraPesquisada==$(this.query).val()&&""!=$(this.queryContent).html()&&(0==$(".clk-btn-next").length||0<$(".clk-btn-next[disabled]").length)&&(0==$(".pagination").length||0<$(".pagination li:last-child.active").length)?void(this.debug&&console.log("Pesquisa cancelada por usar mesmo termo pesquisado.")):void this._pesquisar(this.paginaAtual+1)}_voltaPagina(){return this.ultimaPalavraPesquisada==$(this.query).val()&&(0==$(".clk-btn-prev").length||0<$(".clk-btn-prev[disabled]").length)&&(0==$(".pagination").length||0<$(".pagination li:first-child.active").length)?void(this.debug&&console.log("Pesquisa cancelada por usar mesmo termo pesquisado.")):void this._pesquisar(1<this.paginaAtual?this.paginaAtual-1:1)}_limparConteudo(){this._logDebug("function _limparConteudo() - START");var a=document.querySelector(this.queryContent);a&&(a.innerHTML=""),this.ultimoParametroPesquisado="",this.ultimaPalavraPesquisada="-1",this.paginaAtual=0,this.whenBlurClear&&!$(this.queryId).val()&&(document.querySelector(this.query)&&(document.querySelector(this.query).value=""),document.querySelector(this.queryId)&&(document.querySelector(this.queryId).value="")),this._logDebug("function _limparConteudo() - END")}reset(){this._logDebug("function reset() - START"),this.isBlocked||($(this.query).val(""),$(this.destinoItensSelecionados).html(""),this._setComplemento(""),this._limparConteudo(),this._desbloquear(!1),$(this.query).show(),$(this.containerAutoComplete+" ."+this.classComplemento).hide()),this._adicionaValorPadrao(),this._logDebug("function onreset() - START"),this.onreset(),this._logDebug("function onreset() - END"),this._logDebug("function reset() - END")}destroy(){this._logDebug("function destroy()");var a=$(this.query),b=$(this.query).parent().parent();$(this.query).parent().parent().after(a),$(b).remove(),$(this.query).removeClass("form-control"),$(this.query).removeAttr("autocomplete")}select(a,b,c,d,e){this._logDebug("function select() - START");var b=this.templateField&&e?this._atualizaValoresTemplate(e,this.templateField):b;if(!this.inputNames)$(this.query).val(b),$(this.query).attr("readonly","readonly"),$(this.query).parent().find(".glyphicon").removeClass("glyphicon-search").addClass("glyphicon-remove"),this.queryId&&$(this.queryId).val(a?a:""),this.query&&(this.isDesbloqueado=!1),c&&this._setComplemento("<strong>"+b+"</strong><br>"+c);else if(this.inputNames&&0==$(this.destinoItensSelecionados+" input[value='"+a+"']").length){var f="<div> <div class='input-group input-group-sm'> ";this.templateComplement?(f+="<input type='hidden' name='"+this.inputNames+"' value='"+a+"' />",f+="<input type='hidden' name='_"+this.inputNames+"' value='"+b+"' />",f+="<div class='form-control' style='height: auto; resize: none;' readonly > <strong>"+b+"</strong><br>"+c+"</div>"):(f+="<input type='hidden' name='"+this.inputNames+"' value='"+a+"' />",f+="<input class='form-control' name='_"+this.inputNames+"' value='"+b+"' readonly />"),f+="<span class='input-group-addon btn itemSs'>  <span class='glyphicon glyphicon-remove text-primary'></span> </span> ",f+=" </div> </div>",$(this.destinoItensSelecionados).append(f),!0==d&&$(this.query).focus(),$(this.destinoItensSelecionados).undelegate(".itemSs","click"),$(this.destinoItensSelecionados).delegate(".itemSs","click",this._acaoClickMouseRemoverItem.bind(this))}this._logDebug("function select() - END")}disabled(){this._logDebug("function disabled()"),this.isBlocked=!0,this.query?($(this.query).attr("readonly","readonly"),$(this.query).parent().find(".glyphicon").removeClass("glyphicon-search").removeClass("glyphicon-remove").addClass("glyphicon-lock")):this.queryButton&&$(this.queryButton).attr("disabled","disabled"),this._removeEventos()}enabled(){this._logDebug("function enabled()"),this.isBlocked=!1,this._adicionaEventos(),this.query?this.isDesbloqueado?($(this.query).removeAttr("readonly"),$(this.query).parent().find(".glyphicon").removeClass("glyphicon-lock").addClass("glyphicon-search").removeClass("glyphicon-remove")):$(this.query).parent().find(".glyphicon").removeClass("glyphicon-lock").removeClass("glyphicon-search").addClass("glyphicon-remove"):this.queryButton&&$(this.queryButton).removeAttr("disabled")}focus(){this._logDebug("function focus()"),$(this.query).focus()}};